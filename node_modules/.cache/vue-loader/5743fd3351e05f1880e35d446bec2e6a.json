{"remainingRequest":"/Users/lebronchao/Desktop/Web Project/Big_Data_Visualization/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lebronchao/Desktop/Web Project/Big_Data_Visualization/src/components/UserManagement/Pwd/index.vue?vue&type=style&index=0&id=c36e0a8e&scoped=true&lang=css&","dependencies":[{"path":"/Users/lebronchao/Desktop/Web Project/Big_Data_Visualization/src/components/UserManagement/Pwd/index.vue","mtime":1600049283127},{"path":"/Users/lebronchao/Desktop/Web Project/Big_Data_Visualization/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lebronchao/Desktop/Web Project/Big_Data_Visualization/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/lebronchao/Desktop/Web Project/Big_Data_Visualization/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/lebronchao/Desktop/Web Project/Big_Data_Visualization/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lebronchao/Desktop/Web Project/Big_Data_Visualization/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoucm93IHsKICBkaXNwbGF5OiBmbGV4OwogIGZsZXgtZGlyZWN0aW9uOiByb3c7Cn0KCi5jb2wgewogIGRpc3BsYXk6IGZsZXg7CiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKfQoubWd0ewogIG1hcmdpbi10b3A6IDFyZW07Cn0KLnB3ZHsKICB3aWR0aDogOHJlbTsKfQoucHdkLWJ0bnsKICB3aWR0aDogMTByZW07CiAgaGVpZ2h0OiAycmVtOwogIGJhY2tncm91bmQ6ICMzQjg2RkY7CiAgY29sb3I6IHdoaXRlOwogIGJvcmRlci1yYWRpdXM6IDAuNnJlbTsKICBtYXJnaW46IDFyZW0gMCAwIDFyZW07CiAgZm9udC1zaXplOiAxcmVtOwp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmFA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/UserManagement/Pwd","sourcesContent":["<template>\n  <div>\n    <div class=\"col\" style=\"margin-top: 1.65rem;\">\n      <div style=\"font-size: 1.89rem;color:#43425D;\">密码管理</div>\n      <div v-if=\"this.user.jurisdiction==0\">\n        <div class=\"row mgt\">\n          <div>用户名：</div>\n          <input type=\"text\" class=\"pwd\" v-model=\"adminId\"/>\n        </div>\n        <div class=\"row mgt\">\n          <div>新密码：</div>\n          <input type=\"password\" class=\"pwd\" v-model=\"adminPwd\"/>\n        </div>\n      </div>\n      <div style=\"margin-top: 1rem\" v-else>\n        <div class=\"row\">\n          <div>原密码：</div>\n          <input type=\"password\" class=\"pwd\" style=\"margin-left: 1rem\" v-model=\"pwd\"/>\n        </div>\n        <div class=\"row mgt\">\n          <div>新密码：</div>\n          <input type=\"password\" class=\"pwd\" style=\"margin-left: 1rem\" v-model=\"newPwd\"/>\n        </div>\n        <div class=\"row mgt\">\n          <div>确认密码：</div>\n          <input type=\"password\" class=\"pwd\" v-model=\"confirmPwd\"/>\n        </div>\n      </div>\n      <button class=\"pwd-btn\" @click=\"changePwd\">确认修改</button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {changeUserPwd} from '../../../api/UserManagement'\nexport default {\n  name: \"index\",\n  data(){\n    return{\n      //普通用户原密码\n      pwd:'',\n      //普通用户新面貌\n      newPwd:'',\n      //普通用户确认新密码\n      confirmPwd:'',\n      //管理员输入要修改密码的用户名\n      adminId:'',\n      //管理员输入修改后的密码\n      adminPwd:'',\n      //调取个人信息\n      user:JSON.parse(localStorage.getItem('bdi_iot_user'))\n\n    }\n  },\n  methods:{\n    //修改密码请求\n    changePwd(){\n      if(this.user.jurisdiction==0){\n        let bool=/^[a-zA-Z0-9]\\w{6,18}$/.test(this.adminPwd)\n        if(bool){\n          changeUserPwd(this.adminId,'',this.adminPwd)\n        }else{\n          alert('密码不合法，请输入6-10位密码数字或下划线')\n        }\n      }else{\n        let bool1=/^[a-zA-Z0-9]\\w{6,18}$/.test(this.pwd)\n        if(bool1 && this.pwd===this.newPwd){\n          changeUserPwd(this.user.id,this.pwd,this.newPwd)\n        }else{\n          alert('密码不合法或两次输入密码不一致')\n        }\n      }\n      this.pwd=''\n      this.newPwd=''\n      this.confirmPwd=''\n      this.adminPwd=''\n      this.adminId=''\n    }\n  }\n}\n</script>\n\n<style scoped>\n.row {\n  display: flex;\n  flex-direction: row;\n}\n\n.col {\n  display: flex;\n  flex-direction: column;\n}\n.mgt{\n  margin-top: 1rem;\n}\n.pwd{\n  width: 8rem;\n}\n.pwd-btn{\n  width: 10rem;\n  height: 2rem;\n  background: #3B86FF;\n  color: white;\n  border-radius: 0.6rem;\n  margin: 1rem 0 0 1rem;\n  font-size: 1rem;\n}\n</style>"]}]}