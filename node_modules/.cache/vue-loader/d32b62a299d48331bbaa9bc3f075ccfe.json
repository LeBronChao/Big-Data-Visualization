{"remainingRequest":"/Users/lebronchao/Desktop/Web Project/Big_Data_Visualization/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lebronchao/Desktop/Web Project/Big_Data_Visualization/src/components/UserManagement/Pwd/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lebronchao/Desktop/Web Project/Big_Data_Visualization/src/components/UserManagement/Pwd/index.vue","mtime":1600049283127},{"path":"/Users/lebronchao/Desktop/Web Project/Big_Data_Visualization/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lebronchao/Desktop/Web Project/Big_Data_Visualization/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lebronchao/Desktop/Web Project/Big_Data_Visualization/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lebronchao/Desktop/Web Project/Big_Data_Visualization/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7Y2hhbmdlVXNlclB3ZH0gZnJvbSAnLi4vLi4vLi4vYXBpL1VzZXJNYW5hZ2VtZW50JwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImluZGV4IiwKICBkYXRhKCl7CiAgICByZXR1cm57CiAgICAgIC8v5pmu6YCa55So5oi35Y6f5a+G56CBCiAgICAgIHB3ZDonJywKICAgICAgLy/mma7pgJrnlKjmiLfmlrDpnaLosowKICAgICAgbmV3UHdkOicnLAogICAgICAvL+aZrumAmueUqOaIt+ehruiupOaWsOWvhueggQogICAgICBjb25maXJtUHdkOicnLAogICAgICAvL+euoeeQhuWRmOi+k+WFpeimgeS/ruaUueWvhueggeeahOeUqOaIt+WQjQogICAgICBhZG1pbklkOicnLAogICAgICAvL+euoeeQhuWRmOi+k+WFpeS/ruaUueWQjueahOWvhueggQogICAgICBhZG1pblB3ZDonJywKICAgICAgLy/osIPlj5bkuKrkurrkv6Hmga8KICAgICAgdXNlcjpKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdiZGlfaW90X3VzZXInKSkKCiAgICB9CiAgfSwKICBtZXRob2RzOnsKICAgIC8v5L+u5pS55a+G56CB6K+35rGCCiAgICBjaGFuZ2VQd2QoKXsKICAgICAgaWYodGhpcy51c2VyLmp1cmlzZGljdGlvbj09MCl7CiAgICAgICAgbGV0IGJvb2w9L15bYS16QS1aMC05XVx3ezYsMTh9JC8udGVzdCh0aGlzLmFkbWluUHdkKQogICAgICAgIGlmKGJvb2wpewogICAgICAgICAgY2hhbmdlVXNlclB3ZCh0aGlzLmFkbWluSWQsJycsdGhpcy5hZG1pblB3ZCkKICAgICAgICB9ZWxzZXsKICAgICAgICAgIGFsZXJ0KCflr4bnoIHkuI3lkIjms5XvvIzor7fovpPlhaU2LTEw5L2N5a+G56CB5pWw5a2X5oiW5LiL5YiS57q/JykKICAgICAgICB9CiAgICAgIH1lbHNlewogICAgICAgIGxldCBib29sMT0vXlthLXpBLVowLTldXHd7NiwxOH0kLy50ZXN0KHRoaXMucHdkKQogICAgICAgIGlmKGJvb2wxICYmIHRoaXMucHdkPT09dGhpcy5uZXdQd2QpewogICAgICAgICAgY2hhbmdlVXNlclB3ZCh0aGlzLnVzZXIuaWQsdGhpcy5wd2QsdGhpcy5uZXdQd2QpCiAgICAgICAgfWVsc2V7CiAgICAgICAgICBhbGVydCgn5a+G56CB5LiN5ZCI5rOV5oiW5Lik5qyh6L6T5YWl5a+G56CB5LiN5LiA6Ie0JykKICAgICAgICB9CiAgICAgIH0KICAgICAgdGhpcy5wd2Q9JycKICAgICAgdGhpcy5uZXdQd2Q9JycKICAgICAgdGhpcy5jb25maXJtUHdkPScnCiAgICAgIHRoaXMuYWRtaW5Qd2Q9JycKICAgICAgdGhpcy5hZG1pbklkPScnCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/UserManagement/Pwd","sourcesContent":["<template>\n  <div>\n    <div class=\"col\" style=\"margin-top: 1.65rem;\">\n      <div style=\"font-size: 1.89rem;color:#43425D;\">密码管理</div>\n      <div v-if=\"this.user.jurisdiction==0\">\n        <div class=\"row mgt\">\n          <div>用户名：</div>\n          <input type=\"text\" class=\"pwd\" v-model=\"adminId\"/>\n        </div>\n        <div class=\"row mgt\">\n          <div>新密码：</div>\n          <input type=\"password\" class=\"pwd\" v-model=\"adminPwd\"/>\n        </div>\n      </div>\n      <div style=\"margin-top: 1rem\" v-else>\n        <div class=\"row\">\n          <div>原密码：</div>\n          <input type=\"password\" class=\"pwd\" style=\"margin-left: 1rem\" v-model=\"pwd\"/>\n        </div>\n        <div class=\"row mgt\">\n          <div>新密码：</div>\n          <input type=\"password\" class=\"pwd\" style=\"margin-left: 1rem\" v-model=\"newPwd\"/>\n        </div>\n        <div class=\"row mgt\">\n          <div>确认密码：</div>\n          <input type=\"password\" class=\"pwd\" v-model=\"confirmPwd\"/>\n        </div>\n      </div>\n      <button class=\"pwd-btn\" @click=\"changePwd\">确认修改</button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {changeUserPwd} from '../../../api/UserManagement'\nexport default {\n  name: \"index\",\n  data(){\n    return{\n      //普通用户原密码\n      pwd:'',\n      //普通用户新面貌\n      newPwd:'',\n      //普通用户确认新密码\n      confirmPwd:'',\n      //管理员输入要修改密码的用户名\n      adminId:'',\n      //管理员输入修改后的密码\n      adminPwd:'',\n      //调取个人信息\n      user:JSON.parse(localStorage.getItem('bdi_iot_user'))\n\n    }\n  },\n  methods:{\n    //修改密码请求\n    changePwd(){\n      if(this.user.jurisdiction==0){\n        let bool=/^[a-zA-Z0-9]\\w{6,18}$/.test(this.adminPwd)\n        if(bool){\n          changeUserPwd(this.adminId,'',this.adminPwd)\n        }else{\n          alert('密码不合法，请输入6-10位密码数字或下划线')\n        }\n      }else{\n        let bool1=/^[a-zA-Z0-9]\\w{6,18}$/.test(this.pwd)\n        if(bool1 && this.pwd===this.newPwd){\n          changeUserPwd(this.user.id,this.pwd,this.newPwd)\n        }else{\n          alert('密码不合法或两次输入密码不一致')\n        }\n      }\n      this.pwd=''\n      this.newPwd=''\n      this.confirmPwd=''\n      this.adminPwd=''\n      this.adminId=''\n    }\n  }\n}\n</script>\n\n<style scoped>\n.row {\n  display: flex;\n  flex-direction: row;\n}\n\n.col {\n  display: flex;\n  flex-direction: column;\n}\n.mgt{\n  margin-top: 1rem;\n}\n.pwd{\n  width: 8rem;\n}\n.pwd-btn{\n  width: 10rem;\n  height: 2rem;\n  background: #3B86FF;\n  color: white;\n  border-radius: 0.6rem;\n  margin: 1rem 0 0 1rem;\n  font-size: 1rem;\n}\n</style>"]}]}