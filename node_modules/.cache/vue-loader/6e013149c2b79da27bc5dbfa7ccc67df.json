{"remainingRequest":"/Users/lebronchao/Desktop/Web开发项目/Big_Data_Visualization/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lebronchao/Desktop/Web开发项目/Big_Data_Visualization/src/components/Home/HomeMap/index.vue?vue&type=style&index=0&id=d7cdd5c0&scoped=true&lang=css&","dependencies":[{"path":"/Users/lebronchao/Desktop/Web开发项目/Big_Data_Visualization/src/components/Home/HomeMap/index.vue","mtime":1597806107896},{"path":"/Users/lebronchao/Desktop/Web开发项目/Big_Data_Visualization/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lebronchao/Desktop/Web开发项目/Big_Data_Visualization/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/lebronchao/Desktop/Web开发项目/Big_Data_Visualization/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/lebronchao/Desktop/Web开发项目/Big_Data_Visualization/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lebronchao/Desktop/Web开发项目/Big_Data_Visualization/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKI2wtbWFwewogICAgaGVpZ2h0OiAyMS40cmVtOwogICAgd2lkdGg6IDM5LjRyZW07CiAgICBib3JkZXItcmFkaXVzOiAxcmVtOwogICAgYm9yZGVyOjAuM3JlbSBzb2xpZCB3aGl0ZTsKfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkEA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/Home/HomeMap","sourcesContent":["<template>\n    <div>\n      <keep-alive>\n      <div id=\"l-map\"></div>\n      </keep-alive>\n    </div>\n</template>\n<script type=\"text/javascript\" src=\"//api.map.baidu.com/api?type=webgl&v=1.0&ak=lSZms8vUZ0bZns6rVHLWe3RQLaovokQM\"></script>\n<script>\n    import {mapRequest} from '../../../api/request'\n    export default {\n        name: \"index\",\n        data(){\n          return{\n            //地址数据\n            adds:[],\n            //设备ID\n            deviceId:[]\n          }\n        },\n        methods:{\n          //地图初始化\n          mapInit(){\n            let map = new BMapGL.Map(\"l-map\");\n            map.centerAndZoom(new BMapGL.Point(114.40555,22.707533), 17);\n            map.enableScrollWheelZoom(true);\n            map.setHeading(0);\n            map.setTilt(0);\n            let scaleCtrl = new BMapGL.ScaleControl({anchor: BMAP_ANCHOR_BOTTOM_RIGHT });  // 添加比例尺控件\n            map.addControl(scaleCtrl);\n            let zoomCtrl = new BMapGL.ZoomControl({anchor: BMAP_ANCHOR_TOP_RIGHT });  // 添加缩放控件\n            map.addControl(zoomCtrl);\n            let navi3DCtrl = new BMapGL.NavigationControl3D();  // 添加3D控件\n            map.addControl(navi3DCtrl);\n            for(var i = 0; i<this.adds.length; i++){\n              let marker = new BMapGL.Marker(this.adds[i]);\n              map.addOverlay(marker);\n              marker.setLabel(new BMapGL.Label(\"设备ID:</br>\"+this.deviceId[i],{offset:new BMapGL.Size(15,-50)}));\n            }\n          }\n        },\n        mounted() {\n          //页面挂载初始化地图并请求位置数据\n          this.mapInit()\n          mapRequest(this,BMapGL)\n        },\n        watch:{\n          //监听地址数据变化并重新渲染地图\n          adds:{\n            handler(){\n              this.mapInit()\n            },\n            deep:true\n          },\n          //监听设备数据变化并重新渲染地图\n          deviceId:{\n            handler(){\n              this.mapInit()\n            },\n            deep:true\n          }\n        }\n    }\n</script>\n\n<style scoped>\n    #l-map{\n        height: 21.4rem;\n        width: 39.4rem;\n        border-radius: 1rem;\n        border:0.3rem solid white;\n    }\n</style>"]}]}