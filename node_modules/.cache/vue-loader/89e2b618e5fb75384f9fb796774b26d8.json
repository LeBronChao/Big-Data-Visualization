{"remainingRequest":"/Users/lebronchao/Desktop/Web Project/Big_Data_Visualization/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lebronchao/Desktop/Web Project/Big_Data_Visualization/src/components/UserManagement/Pwd/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lebronchao/Desktop/Web Project/Big_Data_Visualization/src/components/UserManagement/Pwd/index.vue","mtime":1599907910845},{"path":"/Users/lebronchao/Desktop/Web Project/Big_Data_Visualization/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lebronchao/Desktop/Web Project/Big_Data_Visualization/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lebronchao/Desktop/Web Project/Big_Data_Visualization/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lebronchao/Desktop/Web Project/Big_Data_Visualization/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lebronchao/Desktop/Web Project/Big_Data_Visualization/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7Y2hhbmdlVXNlclB3ZH0gZnJvbSAnLi4vLi4vLi4vYXBpL1VzZXJNYW5hZ2VtZW50JwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImluZGV4IiwKICBkYXRhKCl7CiAgICByZXR1cm57CiAgICAgIHB3ZDonJywKICAgICAgbmV3UHdkOicnLAogICAgICBjb25maXJtUHdkOicnLAogICAgICBhZG1pbklkOicnLAogICAgICBhZG1pblB3ZDonJywKICAgICAgdXNlcjpKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdiZGlfaW90X3VzZXInKSkKCiAgICB9CiAgfSwKICBtZXRob2RzOnsKICAgIGNoYW5nZVB3ZCgpewogICAgICBpZih0aGlzLnVzZXIuanVyaXNkaWN0aW9uPT0wKXsKICAgICAgICBsZXQgYm9vbD0vXlthLXpBLVowLTldXHd7NiwxOH0kLy50ZXN0KHRoaXMuYWRtaW5Qd2QpCiAgICAgICAgaWYoYm9vbCl7CiAgICAgICAgICBjaGFuZ2VVc2VyUHdkKHRoaXMuYWRtaW5JZCwnJyx0aGlzLmFkbWluUHdkKQogICAgICAgIH1lbHNlewogICAgICAgICAgYWxlcnQoJ+WvhueggeS4jeWQiOazle+8jOivt+i+k+WFpTYtMTDkvY3lr4bnoIHmlbDlrZfmiJbkuIvliJLnur8nKQogICAgICAgIH0KICAgICAgfWVsc2V7CiAgICAgICAgbGV0IGJvb2wxPS9eW2EtekEtWjAtOV1cd3s2LDE4fSQvLnRlc3QodGhpcy5wd2QpCiAgICAgICAgaWYoYm9vbDEgJiYgdGhpcy5wd2Q9PT10aGlzLm5ld1B3ZCl7CiAgICAgICAgICBjaGFuZ2VVc2VyUHdkKHRoaXMudXNlci5pZCx0aGlzLnB3ZCx0aGlzLm5ld1B3ZCkKICAgICAgICB9ZWxzZXsKICAgICAgICAgIGFsZXJ0KCflr4bnoIHkuI3lkIjms5XmiJbkuKTmrKHovpPlhaXlr4bnoIHkuI3kuIDoh7QnKQogICAgICAgIH0KICAgICAgfQogICAgICB0aGlzLnB3ZD0nJwogICAgICB0aGlzLm5ld1B3ZD0nJwogICAgICB0aGlzLmNvbmZpcm1Qd2Q9JycKICAgICAgdGhpcy5hZG1pblB3ZD0nJwogICAgICB0aGlzLmFkbWluSWQ9JycKICAgIH0KICB9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/UserManagement/Pwd","sourcesContent":["<template>\n  <div>\n    <div class=\"col\" style=\"margin-top: 1.65rem;\">\n      <div style=\"font-size: 1.89rem;color:#43425D;\">密码管理</div>\n      <div v-if=\"this.user.jurisdiction==0\">\n        <div class=\"row mgt\">\n          <div>用户名：</div>\n          <input type=\"text\" class=\"pwd\" v-model=\"adminId\"/>\n        </div>\n        <div class=\"row mgt\">\n          <div>新密码：</div>\n          <input type=\"password\" class=\"pwd\" v-model=\"adminPwd\"/>\n        </div>\n      </div>\n      <div style=\"margin-top: 1rem\" v-else>\n        <div class=\"row\">\n          <div>原密码：</div>\n          <input type=\"password\" class=\"pwd\" style=\"margin-left: 1rem\" v-model=\"pwd\"/>\n        </div>\n        <div class=\"row mgt\">\n          <div>新密码：</div>\n          <input type=\"password\" class=\"pwd\" style=\"margin-left: 1rem\" v-model=\"newPwd\"/>\n        </div>\n        <div class=\"row mgt\">\n          <div>确认密码：</div>\n          <input type=\"password\" class=\"pwd\" v-model=\"confirmPwd\"/>\n        </div>\n      </div>\n      <button class=\"pwd-btn\" @click=\"changePwd\">确认修改</button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {changeUserPwd} from '../../../api/UserManagement'\nexport default {\n  name: \"index\",\n  data(){\n    return{\n      pwd:'',\n      newPwd:'',\n      confirmPwd:'',\n      adminId:'',\n      adminPwd:'',\n      user:JSON.parse(localStorage.getItem('bdi_iot_user'))\n\n    }\n  },\n  methods:{\n    changePwd(){\n      if(this.user.jurisdiction==0){\n        let bool=/^[a-zA-Z0-9]\\w{6,18}$/.test(this.adminPwd)\n        if(bool){\n          changeUserPwd(this.adminId,'',this.adminPwd)\n        }else{\n          alert('密码不合法，请输入6-10位密码数字或下划线')\n        }\n      }else{\n        let bool1=/^[a-zA-Z0-9]\\w{6,18}$/.test(this.pwd)\n        if(bool1 && this.pwd===this.newPwd){\n          changeUserPwd(this.user.id,this.pwd,this.newPwd)\n        }else{\n          alert('密码不合法或两次输入密码不一致')\n        }\n      }\n      this.pwd=''\n      this.newPwd=''\n      this.confirmPwd=''\n      this.adminPwd=''\n      this.adminId=''\n    }\n  }\n}\n</script>\n\n<style scoped>\n.row {\n  display: flex;\n  flex-direction: row;\n}\n\n.col {\n  display: flex;\n  flex-direction: column;\n}\n.mgt{\n  margin-top: 1rem;\n}\n.pwd{\n  width: 8rem;\n}\n.pwd-btn{\n  width: 10rem;\n  height: 2rem;\n  background: #3B86FF;\n  color: white;\n  border-radius: 0.6rem;\n  margin: 1rem 0 0 1rem;\n  font-size: 1rem;\n}\n</style>"]}]}