{"remainingRequest":"/Users/lebronchao/Desktop/Web Project/Big_Data_Visualization/node_modules/thread-loader/dist/cjs.js!/Users/lebronchao/Desktop/Web Project/Big_Data_Visualization/node_modules/babel-loader/lib/index.js!/Users/lebronchao/Desktop/Web Project/Big_Data_Visualization/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lebronchao/Desktop/Web Project/Big_Data_Visualization/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lebronchao/Desktop/Web Project/Big_Data_Visualization/src/components/UserManagement/Pwd/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lebronchao/Desktop/Web Project/Big_Data_Visualization/src/components/UserManagement/Pwd/index.vue","mtime":1600049283127},{"path":"/Users/lebronchao/Desktop/Web Project/Big_Data_Visualization/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lebronchao/Desktop/Web Project/Big_Data_Visualization/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lebronchao/Desktop/Web Project/Big_Data_Visualization/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lebronchao/Desktop/Web Project/Big_Data_Visualization/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lebronchao/Desktop/Web Project/Big_Data_Visualization/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgY2hhbmdlVXNlclB3ZCB9IGZyb20gJy4uLy4uLy4uL2FwaS9Vc2VyTWFuYWdlbWVudCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiaW5kZXgiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvL+aZrumAmueUqOaIt+WOn+WvhueggQogICAgICBwd2Q6ICcnLAogICAgICAvL+aZrumAmueUqOaIt+aWsOmdouiyjAogICAgICBuZXdQd2Q6ICcnLAogICAgICAvL+aZrumAmueUqOaIt+ehruiupOaWsOWvhueggQogICAgICBjb25maXJtUHdkOiAnJywKICAgICAgLy/nrqHnkIblkZjovpPlhaXopoHkv67mlLnlr4bnoIHnmoTnlKjmiLflkI0KICAgICAgYWRtaW5JZDogJycsCiAgICAgIC8v566h55CG5ZGY6L6T5YWl5L+u5pS55ZCO55qE5a+G56CBCiAgICAgIGFkbWluUHdkOiAnJywKICAgICAgLy/osIPlj5bkuKrkurrkv6Hmga8KICAgICAgdXNlcjogSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYmRpX2lvdF91c2VyJykpCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgLy/kv67mlLnlr4bnoIHor7fmsYIKICAgIGNoYW5nZVB3ZDogZnVuY3Rpb24gY2hhbmdlUHdkKCkgewogICAgICBpZiAodGhpcy51c2VyLmp1cmlzZGljdGlvbiA9PSAwKSB7CiAgICAgICAgdmFyIGJvb2wgPSAvXlthLXpBLVowLTldXHd7NiwxOH0kLy50ZXN0KHRoaXMuYWRtaW5Qd2QpOwoKICAgICAgICBpZiAoYm9vbCkgewogICAgICAgICAgY2hhbmdlVXNlclB3ZCh0aGlzLmFkbWluSWQsICcnLCB0aGlzLmFkbWluUHdkKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWxlcnQoJ+WvhueggeS4jeWQiOazle+8jOivt+i+k+WFpTYtMTDkvY3lr4bnoIHmlbDlrZfmiJbkuIvliJLnur8nKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIGJvb2wxID0gL15bYS16QS1aMC05XVx3ezYsMTh9JC8udGVzdCh0aGlzLnB3ZCk7CgogICAgICAgIGlmIChib29sMSAmJiB0aGlzLnB3ZCA9PT0gdGhpcy5uZXdQd2QpIHsKICAgICAgICAgIGNoYW5nZVVzZXJQd2QodGhpcy51c2VyLmlkLCB0aGlzLnB3ZCwgdGhpcy5uZXdQd2QpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhbGVydCgn5a+G56CB5LiN5ZCI5rOV5oiW5Lik5qyh6L6T5YWl5a+G56CB5LiN5LiA6Ie0Jyk7CiAgICAgICAgfQogICAgICB9CgogICAgICB0aGlzLnB3ZCA9ICcnOwogICAgICB0aGlzLm5ld1B3ZCA9ICcnOwogICAgICB0aGlzLmNvbmZpcm1Qd2QgPSAnJzsKICAgICAgdGhpcy5hZG1pblB3ZCA9ICcnOwogICAgICB0aGlzLmFkbWluSWQgPSAnJzsKICAgIH0KICB9Cn07"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA,SAAA,aAAA,QAAA,6BAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA;AACA,MAAA,GAAA,EAAA,EAFA;AAGA;AACA,MAAA,MAAA,EAAA,EAJA;AAKA;AACA,MAAA,UAAA,EAAA,EANA;AAOA;AACA,MAAA,OAAA,EAAA,EARA;AASA;AACA,MAAA,QAAA,EAAA,EAVA;AAWA;AACA,MAAA,IAAA,EAAA,IAAA,CAAA,KAAA,CAAA,YAAA,CAAA,OAAA,CAAA,cAAA,CAAA;AAZA,KAAA;AAeA,GAlBA;AAmBA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,SAFA,uBAEA;AACA,UAAA,KAAA,IAAA,CAAA,YAAA,IAAA,CAAA,EAAA;AACA,YAAA,IAAA,GAAA,wBAAA,IAAA,CAAA,KAAA,QAAA,CAAA;;AACA,YAAA,IAAA,EAAA;AACA,UAAA,aAAA,CAAA,KAAA,OAAA,EAAA,EAAA,EAAA,KAAA,QAAA,CAAA;AACA,SAFA,MAEA;AACA,UAAA,KAAA,CAAA,wBAAA,CAAA;AACA;AACA,OAPA,MAOA;AACA,YAAA,KAAA,GAAA,wBAAA,IAAA,CAAA,KAAA,GAAA,CAAA;;AACA,YAAA,KAAA,IAAA,KAAA,GAAA,KAAA,KAAA,MAAA,EAAA;AACA,UAAA,aAAA,CAAA,KAAA,IAAA,CAAA,EAAA,EAAA,KAAA,GAAA,EAAA,KAAA,MAAA,CAAA;AACA,SAFA,MAEA;AACA,UAAA,KAAA,CAAA,iBAAA,CAAA;AACA;AACA;;AACA,WAAA,GAAA,GAAA,EAAA;AACA,WAAA,MAAA,GAAA,EAAA;AACA,WAAA,UAAA,GAAA,EAAA;AACA,WAAA,QAAA,GAAA,EAAA;AACA,WAAA,OAAA,GAAA,EAAA;AACA;AAvBA;AAnBA,CAAA","sourcesContent":["<template>\n  <div>\n    <div class=\"col\" style=\"margin-top: 1.65rem;\">\n      <div style=\"font-size: 1.89rem;color:#43425D;\">密码管理</div>\n      <div v-if=\"this.user.jurisdiction==0\">\n        <div class=\"row mgt\">\n          <div>用户名：</div>\n          <input type=\"text\" class=\"pwd\" v-model=\"adminId\"/>\n        </div>\n        <div class=\"row mgt\">\n          <div>新密码：</div>\n          <input type=\"password\" class=\"pwd\" v-model=\"adminPwd\"/>\n        </div>\n      </div>\n      <div style=\"margin-top: 1rem\" v-else>\n        <div class=\"row\">\n          <div>原密码：</div>\n          <input type=\"password\" class=\"pwd\" style=\"margin-left: 1rem\" v-model=\"pwd\"/>\n        </div>\n        <div class=\"row mgt\">\n          <div>新密码：</div>\n          <input type=\"password\" class=\"pwd\" style=\"margin-left: 1rem\" v-model=\"newPwd\"/>\n        </div>\n        <div class=\"row mgt\">\n          <div>确认密码：</div>\n          <input type=\"password\" class=\"pwd\" v-model=\"confirmPwd\"/>\n        </div>\n      </div>\n      <button class=\"pwd-btn\" @click=\"changePwd\">确认修改</button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {changeUserPwd} from '../../../api/UserManagement'\nexport default {\n  name: \"index\",\n  data(){\n    return{\n      //普通用户原密码\n      pwd:'',\n      //普通用户新面貌\n      newPwd:'',\n      //普通用户确认新密码\n      confirmPwd:'',\n      //管理员输入要修改密码的用户名\n      adminId:'',\n      //管理员输入修改后的密码\n      adminPwd:'',\n      //调取个人信息\n      user:JSON.parse(localStorage.getItem('bdi_iot_user'))\n\n    }\n  },\n  methods:{\n    //修改密码请求\n    changePwd(){\n      if(this.user.jurisdiction==0){\n        let bool=/^[a-zA-Z0-9]\\w{6,18}$/.test(this.adminPwd)\n        if(bool){\n          changeUserPwd(this.adminId,'',this.adminPwd)\n        }else{\n          alert('密码不合法，请输入6-10位密码数字或下划线')\n        }\n      }else{\n        let bool1=/^[a-zA-Z0-9]\\w{6,18}$/.test(this.pwd)\n        if(bool1 && this.pwd===this.newPwd){\n          changeUserPwd(this.user.id,this.pwd,this.newPwd)\n        }else{\n          alert('密码不合法或两次输入密码不一致')\n        }\n      }\n      this.pwd=''\n      this.newPwd=''\n      this.confirmPwd=''\n      this.adminPwd=''\n      this.adminId=''\n    }\n  }\n}\n</script>\n\n<style scoped>\n.row {\n  display: flex;\n  flex-direction: row;\n}\n\n.col {\n  display: flex;\n  flex-direction: column;\n}\n.mgt{\n  margin-top: 1rem;\n}\n.pwd{\n  width: 8rem;\n}\n.pwd-btn{\n  width: 10rem;\n  height: 2rem;\n  background: #3B86FF;\n  color: white;\n  border-radius: 0.6rem;\n  margin: 1rem 0 0 1rem;\n  font-size: 1rem;\n}\n</style>"],"sourceRoot":"src/components/UserManagement/Pwd"}]}